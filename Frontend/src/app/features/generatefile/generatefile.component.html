<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Management Dashboard</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome CDN for Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  </head>
  
  <body class="bg-gray-100">
    <!-- Navbar Component -->
    <app-navbar></app-navbar>
  
    <div class="flex">
      <!-- Sidebar Component -->
      <app-sidebar></app-sidebar>
  
      <!-- Main Content -->
      <div class="flex-1 p-8">
        <div class="max-w-lg mx-auto p-4 bg-white shadow-md rounded-lg">
          <h2 class="text-2xl font-semibold mb-4">Generate Invoice</h2>
          
          <!-- Invoice Creation Form -->
          <form (ngSubmit)="createInvoice()" #invoiceForm="ngForm">
            <div class="mb-4">
              <label for="companyName" class="block text-sm font-medium text-gray-700">Company Name</label>
              <input
                type="text"
                id="companyName"
                [(ngModel)]="invoice.companyName"
                name="companyName"
                class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                required
                #companyName="ngModel"
              />
              <div *ngIf="companyName.invalid && companyName.touched" class="text-red-500 text-sm">
                Company name is required.
              </div>
            </div>
  
            <div class="mb-4">
              <label for="issueDate" class="block text-sm font-medium text-gray-700">Issue Date</label>
              <input
                type="date"
                id="issueDate"
                [(ngModel)]="invoice.issueDate"
                name="issueDate"
                class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                required
                #issueDate="ngModel"
              />
              <div *ngIf="issueDate.invalid && issueDate.touched" class="text-red-500 text-sm">
                Issue date is required.
              </div>
            </div>
  
            <div class="mb-4">
              <label for="dueDate" class="block text-sm font-medium text-gray-700">Due Date</label>
              <input
                type="date"
                id="dueDate"
                [(ngModel)]="invoice.dueDate"
                name="dueDate"
                class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                required
                #dueDate="ngModel"
              />
              <div *ngIf="dueDate.invalid && dueDate.touched" class="text-red-500 text-sm">
                Due date is required.
              </div>
            </div>
  
            <div class="mb-4">
              <label for="amount" class="block text-sm font-medium text-gray-700">Amount</label>
              <input
                type="number"
                id="amount"
                [(ngModel)]="invoice.amount"
                name="amount"
                class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                required
                #amount="ngModel"
              />
              <div *ngIf="amount.invalid && amount.touched" class="text-red-500 text-sm">
                Amount is required.
              </div>
            </div>
  
            <div class="mb-4">
              <label for="status" class="block text-sm font-medium text-gray-700">Status</label>
              <input
                type="text"
                id="status"
                [(ngModel)]="invoice.status"
                name="status"
                class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                required
                #status="ngModel"
              />
              <div *ngIf="status.invalid && status.touched" class="text-red-500 text-sm">
                Status is required.
              </div>
            </div>
  
            <!-- Hidden field for User ID -->
            <div style="display: none;">
              <input type="number" [(ngModel)]="invoice.client.id" name="userId" [value]="invoice.client.id" />
            </div>
  
            <!-- Submit Button -->
            <button
              type="submit"
              class="mt-4 w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
              [disabled]="invoiceForm.invalid"
            >
              Create Invoice
            </button>
          </form>
        </div>
      </div>
    </div>
  </body>
  